TODO
----
- C++ -pub with C# -sub works weirdly
  - Buffers lots of memory in the publisher
  - Doesn't work properly if the publisher or subscriber are restarted (with the same gateway)

- Is Connection thread safe?
  - Is the socket sending thread safe? eg, will sends from different threads get 'mixed up'? (Though they are queued to one thread?)
  - Can you subscribe from multiple threads? (C#, C++)
  - Can you send messages from multiple threads? (C#, C++)
  - Can you sendRequest from multiple threads? (C#, C++)

- Do we need the wakeUp() thing? (A: Yes, when running in PMQ mode)

- Add -client / -server to .NET test client

- Do the client side subscription cache thing for C#

- Message::getAllFields (C++, C#)

- Message::getField() non-const, ie so that you can modify a field (C++, C#) 

- Think about pimpl vs C++20 modules

- Better disconnection handling
  - Not all cases of gateway and/or clients dying are handled well

- ConnectionParams class (C++, C#)
  - Include whether to call back on the connection's thread or to need manual dispatch (PMQ)

- Clean up removed subscriptions from the interest-graph

- ConnectionImpl::m_subscriptions needs to be thread safe
  - I'm not convinced that the ConnectionImpl and Subscription dtors are properly thread safe

- Handle fast producers and slow consumers
  - What happens if a consumer is slow? Does it slow down publication from the Gateway to other clients?




Creating a messaging-mesh client
--------------------------------
- C++ -> General -> Additional Include Directories
MessagingMeshLib\headers

- Linker -> Input -> Additional Dependencies
MessagingMeshLib\lib\($Configuration)\MessagingMeshLib.lib
advapi32.lib
crypt32.lib
iphlpapi.lib
psapi.lib
shell32.lib
user32.lib
userenv.lib
ws2_32.lib
dbghelp.lib




How does processMessageQueue (PMQ) work?
----------------------------------------
- sendRequest will need to work differently
  - It will need its own collection of callbacks

- Should we decode messages on the socket thread? 
  - Or when PMQ is called?

- I think it could be better in PMQ itself
  - That way the socket thread blocks for less time receiving messages

- 





